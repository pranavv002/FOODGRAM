{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{useGetUserID}from\"../hooks/useGetUserID\";import{useNavigate}from\"react-router-dom\";import{useCookies}from\"react-cookie\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const CreateRecipe=()=>{const userID=useGetUserID();const[cookies,_]=useCookies([\"access_token\"]);const[recipe,setRecipe]=useState({name:\"\",description:\"\",ingredients:[],instructions:\"\",imageUrl:\"\",cookingTime:0,userOwner:userID});const navigate=useNavigate();const handleChange=event=>{const{name,value}=event.target;setRecipe({...recipe,[name]:value});};const handleIngredientChange=(event,index)=>{const{value}=event.target;const ingredients=[...recipe.ingredients];ingredients[index]=value;setRecipe({...recipe,ingredients});};const handleAddIngredient=()=>{const ingredients=[...recipe.ingredients,\"\"];setRecipe({...recipe,ingredients});};const handleSubmit=async event=>{event.preventDefault();try{await axios.post(\"https://foodgram-xap1.onrender.com/recipes\",{...recipe},{headers:{authorization:cookies.access_token}});alert(\"Recipe Created\");navigate(\"/\");}catch(error){console.error(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-recipe\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:recipe.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:recipe.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ingredients\",children:\"Ingredients\"}),recipe.ingredients.map((ingredient,index)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ingredients\",value:ingredient,onChange:event=>handleIngredientChange(event,index)},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddIngredient,children:\"Add Ingredient\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"instructions\",children:\"Instructions\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"instructions\",name:\"instructions\",value:recipe.instructions,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"imageUrl\",children:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"imageUrl\",name:\"imageUrl\",value:recipe.imageUrl,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cookingTime\",children:\"Cooking Time (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"cookingTime\",name:\"cookingTime\",value:recipe.cookingTime,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Recipe\"})]})]});};","map":{"version":3,"names":["React","useState","axios","useGetUserID","useNavigate","useCookies","jsx","_jsx","jsxs","_jsxs","CreateRecipe","userID","cookies","_","recipe","setRecipe","name","description","ingredients","instructions","imageUrl","cookingTime","userOwner","navigate","handleChange","event","value","target","handleIngredientChange","index","handleAddIngredient","handleSubmit","preventDefault","post","headers","authorization","access_token","alert","error","console","className","children","onSubmit","htmlFor","type","id","onChange","map","ingredient","onClick"],"sources":["E:/MERN-Recipe-App1-main/client/src/pages/create-recipe.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useGetUserID } from \"../hooks/useGetUserID\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nexport const CreateRecipe = () => {\r\n  const userID = useGetUserID();\r\n  const [cookies, _] = useCookies([\"access_token\"]);\r\n  const [recipe, setRecipe] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    ingredients: [],\r\n    instructions: \"\",\r\n    imageUrl: \"\",\r\n    cookingTime: 0,\r\n    userOwner: userID,\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setRecipe({ ...recipe, [name]: value });\r\n  };\r\n\r\n  const handleIngredientChange = (event, index) => {\r\n    const { value } = event.target;\r\n    const ingredients = [...recipe.ingredients];\r\n    ingredients[index] = value;\r\n    setRecipe({ ...recipe, ingredients });\r\n  };\r\n\r\n  const handleAddIngredient = () => {\r\n    const ingredients = [...recipe.ingredients, \"\"];\r\n    setRecipe({ ...recipe, ingredients });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axios.post(\r\n        \"https://foodgram-xap1.onrender.com/recipes\",\r\n        { ...recipe },\r\n        {\r\n          headers: { authorization: cookies.access_token },\r\n        }\r\n      );\r\n\r\n      alert(\"Recipe Created\");\r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-recipe\">\r\n      <h2>Create Recipe</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor=\"name\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          value={recipe.name}\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"description\">Description</label>\r\n        <textarea\r\n          id=\"description\"\r\n          name=\"description\"\r\n          value={recipe.description}\r\n          onChange={handleChange}\r\n        ></textarea>\r\n        <label htmlFor=\"ingredients\">Ingredients</label>\r\n        {recipe.ingredients.map((ingredient, index) => (\r\n          <input\r\n            key={index}\r\n            type=\"text\"\r\n            name=\"ingredients\"\r\n            value={ingredient}\r\n            onChange={(event) => handleIngredientChange(event, index)}\r\n          />\r\n        ))}\r\n        <button type=\"button\" onClick={handleAddIngredient}>\r\n          Add Ingredient\r\n        </button>\r\n        <label htmlFor=\"instructions\">Instructions</label>\r\n        <textarea\r\n          id=\"instructions\"\r\n          name=\"instructions\"\r\n          value={recipe.instructions}\r\n          onChange={handleChange}\r\n        ></textarea>\r\n        <label htmlFor=\"imageUrl\">Image URL</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"imageUrl\"\r\n          name=\"imageUrl\"\r\n          value={recipe.imageUrl}\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"cookingTime\">Cooking Time (minutes)</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"cookingTime\"\r\n          name=\"cookingTime\"\r\n          value={recipe.cookingTime}\r\n          onChange={handleChange}\r\n        />\r\n        <button type=\"submit\">Create Recipe</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,YAAY,KAAQ,uBAAuB,CACpD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,UAAU,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,MAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAAC,MAAM,CAAGR,YAAY,CAAC,CAAC,CAC7B,KAAM,CAACS,OAAO,CAAEC,CAAC,CAAC,CAAGR,UAAU,CAAC,CAAC,cAAc,CAAC,CAAC,CACjD,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,CACnCe,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EAAE,CACfC,YAAY,CAAE,EAAE,CAChBC,QAAQ,CAAE,EAAE,CACZC,WAAW,CAAE,CAAC,CACdC,SAAS,CAAEX,MACb,CAAC,CAAC,CAEF,KAAM,CAAAY,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAoB,YAAY,CAAIC,KAAK,EAAK,CAC9B,KAAM,CAAET,IAAI,CAAEU,KAAM,CAAC,CAAGD,KAAK,CAACE,MAAM,CACpCZ,SAAS,CAAC,CAAE,GAAGD,MAAM,CAAE,CAACE,IAAI,EAAGU,KAAM,CAAC,CAAC,CACzC,CAAC,CAED,KAAM,CAAAE,sBAAsB,CAAGA,CAACH,KAAK,CAAEI,KAAK,GAAK,CAC/C,KAAM,CAAEH,KAAM,CAAC,CAAGD,KAAK,CAACE,MAAM,CAC9B,KAAM,CAAAT,WAAW,CAAG,CAAC,GAAGJ,MAAM,CAACI,WAAW,CAAC,CAC3CA,WAAW,CAACW,KAAK,CAAC,CAAGH,KAAK,CAC1BX,SAAS,CAAC,CAAE,GAAGD,MAAM,CAAEI,WAAY,CAAC,CAAC,CACvC,CAAC,CAED,KAAM,CAAAY,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAAZ,WAAW,CAAG,CAAC,GAAGJ,MAAM,CAACI,WAAW,CAAE,EAAE,CAAC,CAC/CH,SAAS,CAAC,CAAE,GAAGD,MAAM,CAAEI,WAAY,CAAC,CAAC,CACvC,CAAC,CAED,KAAM,CAAAa,YAAY,CAAG,KAAO,CAAAN,KAAK,EAAK,CACpCA,KAAK,CAACO,cAAc,CAAC,CAAC,CACtB,GAAI,CACF,KAAM,CAAA9B,KAAK,CAAC+B,IAAI,CACd,4CAA4C,CAC5C,CAAE,GAAGnB,MAAO,CAAC,CACb,CACEoB,OAAO,CAAE,CAAEC,aAAa,CAAEvB,OAAO,CAACwB,YAAa,CACjD,CACF,CAAC,CAEDC,KAAK,CAAC,gBAAgB,CAAC,CACvBd,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOe,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACE7B,KAAA,QAAK+B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlC,IAAA,OAAAkC,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBhC,KAAA,SAAMiC,QAAQ,CAAEX,YAAa,CAAAU,QAAA,eAC3BlC,IAAA,UAAOoC,OAAO,CAAC,MAAM,CAAAF,QAAA,CAAC,MAAI,CAAO,CAAC,cAClClC,IAAA,UACEqC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,MAAM,CACT7B,IAAI,CAAC,MAAM,CACXU,KAAK,CAAEZ,MAAM,CAACE,IAAK,CACnB8B,QAAQ,CAAEtB,YAAa,CACxB,CAAC,cACFjB,IAAA,UAAOoC,OAAO,CAAC,aAAa,CAAAF,QAAA,CAAC,aAAW,CAAO,CAAC,cAChDlC,IAAA,aACEsC,EAAE,CAAC,aAAa,CAChB7B,IAAI,CAAC,aAAa,CAClBU,KAAK,CAAEZ,MAAM,CAACG,WAAY,CAC1B6B,QAAQ,CAAEtB,YAAa,CACd,CAAC,cACZjB,IAAA,UAAOoC,OAAO,CAAC,aAAa,CAAAF,QAAA,CAAC,aAAW,CAAO,CAAC,CAC/C3B,MAAM,CAACI,WAAW,CAAC6B,GAAG,CAAC,CAACC,UAAU,CAAEnB,KAAK,gBACxCtB,IAAA,UAEEqC,IAAI,CAAC,MAAM,CACX5B,IAAI,CAAC,aAAa,CAClBU,KAAK,CAAEsB,UAAW,CAClBF,QAAQ,CAAGrB,KAAK,EAAKG,sBAAsB,CAACH,KAAK,CAAEI,KAAK,CAAE,EAJrDA,KAKN,CACF,CAAC,cACFtB,IAAA,WAAQqC,IAAI,CAAC,QAAQ,CAACK,OAAO,CAAEnB,mBAAoB,CAAAW,QAAA,CAAC,gBAEpD,CAAQ,CAAC,cACTlC,IAAA,UAAOoC,OAAO,CAAC,cAAc,CAAAF,QAAA,CAAC,cAAY,CAAO,CAAC,cAClDlC,IAAA,aACEsC,EAAE,CAAC,cAAc,CACjB7B,IAAI,CAAC,cAAc,CACnBU,KAAK,CAAEZ,MAAM,CAACK,YAAa,CAC3B2B,QAAQ,CAAEtB,YAAa,CACd,CAAC,cACZjB,IAAA,UAAOoC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3ClC,IAAA,UACEqC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACb7B,IAAI,CAAC,UAAU,CACfU,KAAK,CAAEZ,MAAM,CAACM,QAAS,CACvB0B,QAAQ,CAAEtB,YAAa,CACxB,CAAC,cACFjB,IAAA,UAAOoC,OAAO,CAAC,aAAa,CAAAF,QAAA,CAAC,wBAAsB,CAAO,CAAC,cAC3DlC,IAAA,UACEqC,IAAI,CAAC,QAAQ,CACbC,EAAE,CAAC,aAAa,CAChB7B,IAAI,CAAC,aAAa,CAClBU,KAAK,CAAEZ,MAAM,CAACO,WAAY,CAC1ByB,QAAQ,CAAEtB,YAAa,CACxB,CAAC,cACFjB,IAAA,WAAQqC,IAAI,CAAC,QAAQ,CAAAH,QAAA,CAAC,eAAa,CAAQ,CAAC,EACxC,CAAC,EACJ,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}